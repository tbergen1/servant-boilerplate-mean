var options={application_client_id:"none",token:$("#dashboard-container").data("accesstokenlimited"),protocol:"http",image_dropzone_class:"image-dropzone"};Servant.initialize(options,function(){angular.module("appDashboard",["ngResource","ui.router","ui.bootstrap"]),angular.module("appDashboard").run(["$rootScope","$timeout","$interval",function(e){e.servant={}}])});var checkSubscription=["$q","$rootScope","$stateParams","Users","ServantAngularService",function(){return console.log("here"),console.log($("#dashboard-container").data("stripesubscription")),!0}];angular.module("appDashboard").config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/"),e.state("dashboard",{url:"/",templateUrl:"views/dashboard/dashboard.html",resolve:{checkSubscription:checkSubscription}}).state("subscription",{url:"/subscription",templateUrl:"views/dashboard/subscription.html"}).state("number",{url:"/number",templateUrl:"views/dashboard/number.html"})}]),angular.module("appDashboard").config(["$locationProvider",function(e){e.hashPrefix("!")}]),angular.module("appDashboard").controller("DashboardController",["$rootScope","$scope","$timeout","$modal","ServantAngularService",function(e,t,r,n,o){t.stripeCheckout=StripeCheckout.configure({key:"sk_test_tJRxt5eaktaLjWRtIM3E1J4c",image:"/square-image.png",token:function(){}}),t.view="loading",t.initialize=function(){o.getUserAndServants().then(function(t){console.log("User and Servants:",t),e.servant=t},function(e){console.log(e)})},t.checkout=function(e){t.stripeCheckout.open({name:"Servant Text Messenger",description:"350 Text Messages/month for $"+e+".00",amount:e,panelLabel:"Subscribe {{ amount }}",amount:2e3})}}]),angular.module("appDashboard").controller("SubscriptionController",["$rootScope","$scope","$timeout","$modal","ServantAngularService",function(e,t){if(window.location.host.indexOf("localhost")>-1);else;t.view="loading",t.initialize=function(){t.stripeCheckout=StripeCheckout.configure({key:"sk_test_tJRxt5eaktaLjWRtIM3E1J4c",image:"/square-image.png",token:function(){}})},t.checkout=function(e){t.stripeCheckout.open({name:"Servant Text Messenger",description:"350 Text Messages/month for $"+e+".00",amount:e,panelLabel:"Subscribe {{ amount }}",amount:2e3})}}]),angular.module("appDashboard").service("ServantAngularService",["$rootScope","$q",function(e,t){this.status=function(){return Servant.status},this.connect=function(){Servant.connect()},this.getUserAndServants=function(){var e=t.defer();return Servant.getUserAndServants(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise},this.setServant=function(r){var n=t.defer();return Servant.setServant(r),e.s.d.servant=r,n.resolve(e.s.d.servant),n.promise},this.initializeUploadableArchetypes=function(e){var r=t.defer();return Servant.initializeUploadableArchetypes(e),r.resolve(),r.promise},this.instantiate=function(e){var r=t.defer();return Servant.instantiate(e,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},this.validate=function(e,r){var n=t.defer();return Servant.validate(e,r,function(e,t){e&&n.resolve(e),t&&n.resolve(t)},function(e){n.reject(e)}),n.promise},this.saveArchetype=function(e,r){var n=t.defer();return Servant.saveArchetype(e,r,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},this.showArchetype=function(e,r){var n=t.defer();return Servant.showArchetype(e,r,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},this.queryArchetypes=function(e,r){var n=t.defer();return Servant.queryArchetypes(e,r,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},this.deleteArchetype=function(e,r){var n=t.defer();return Servant.deleteArchetype(e,r,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},this.archetypesRecent=function(e,r){var n=t.defer();return Servant.archetypesRecent(e,r,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},this.archetypesOldest=function(e,r){var n=t.defer();return Servant.archetypesOldest(e,r,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}]);